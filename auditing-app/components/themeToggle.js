import classNames from "classnames";
import { useState, useEffect } from "react";
import styles from './themeToggle.module.scss';

const ThemeToggle = () => {
  const [activeTheme, setActiveTheme] = useState("light");
  const inactiveTheme = activeTheme === "light" ? "dark" : "light";

  useEffect(() => {
    const savedTheme = window.localStorage.getItem("theme");
    savedTheme && setActiveTheme(savedTheme);
  }, []);

  useEffect(() => {
    document.body.dataset.theme = activeTheme;
    window.localStorage.setItem("theme", activeTheme);
  }, [activeTheme]);

  return (
    <button 
      type="button"
      aria-label={`Change to ${inactiveTheme} mode`}
      title={`Change to ${inactiveTheme} mode`}
      className={classNames(styles.modeButton, activeTheme === "light" ? styles.lightTheme : styles.darkTheme)}
      onClick={() => setActiveTheme(inactiveTheme)}
    >
      <svg viewBox="0 0 60 60">
        <g id="Sun" className={styles.Sun}>
          <path className="st0" d="M23,30.0014648c-6.4887695,0-11.7680664-5.2792969-11.7680664-11.7680664S16.5112305,6.465332,23,6.465332c6.4892578,0,11.7685547,5.2792969,11.7685547,11.7680664S29.4892578,30.0014648,23,30.0014648z M23,7.465332c-5.9375,0-10.7680664,4.8305664-10.7680664,10.7680664S17.0625,29.0014648,23,29.0014648c5.9379883,0,10.7685547-4.8305664,10.7685547-10.7680664S28.9379883,7.465332,23,7.465332z"/>
          <g>
            <path className="st0" d="M22.9399414,4.1879883c-0.1381836,0-0.25-0.1118164-0.25-0.25v-9.9545898c0-0.1381836,0.1118164-0.25,0.25-0.25s0.25,0.1118164,0.25,0.25v9.9545898C23.1899414,4.0761719,23.078125,4.1879883,22.9399414,4.1879883z"/>
            <path className="st0" d="M18.0541992,5.0708008c-0.1020508,0-0.1977539-0.0629883-0.2348633-0.1645508l-3.4047852-9.3544922c-0.0473633-0.1298828,0.0195312-0.2729492,0.1494141-0.3203125c0.1308594-0.0473633,0.2729492,0.0200195,0.3203125,0.1494141l3.4047852,9.3544922c0.0473633,0.1298828-0.0195312,0.2729492-0.1494141,0.3203125C18.1113281,5.065918,18.0825195,5.0708008,18.0541992,5.0708008z"/>
            <path className="st0" d="M13.7651367,7.5712891c-0.0712891,0-0.1420898-0.0302734-0.1914062-0.0893555L7.1748047-0.1435547C7.0859375-0.2490234,7.0996094-0.4067383,7.2055664-0.4956055C7.3105469-0.5859375,7.46875-0.5712891,7.5576172-0.4648438l6.3989258,7.6254883c0.0888672,0.1054688,0.0751953,0.2631836-0.0307617,0.3520508C13.8789062,7.5522461,13.8217773,7.5712891,13.7651367,7.5712891z"/>
            <path className="st0" d="M10.5898438,11.3876953c-0.0424805,0-0.0854492-0.0107422-0.125-0.0336914L1.84375,6.3769531C1.7241211,6.3081055,1.6831055,6.1552734,1.7524414,6.0356445C1.8212891,5.9160156,1.9750977,5.875,2.09375,5.9443359l8.6210938,4.9770508c0.1196289,0.0688477,0.1606445,0.2216797,0.0913086,0.3413086C10.7602539,11.3427734,10.6757812,11.3876953,10.5898438,11.3876953z"/>
            <path className="st0" d="M8.9116211,16.0600586c-0.0146484,0-0.0292969-0.0009766-0.0439453-0.0039062l-9.8032227-1.7285156c-0.1357422-0.0239258-0.2265625-0.1533203-0.2026367-0.2895508c0.0244141-0.1362305,0.1547852-0.2294922,0.2895508-0.2026367l9.8032227,1.7285156c0.1357422,0.0239258,0.2265625,0.1533203,0.2026367,0.2895508C9.1357422,15.9746094,9.0302734,16.0600586,8.9116211,16.0600586z"/>
            <path className="st0" d="M-0.871582,22.753418c-0.1186523,0-0.2241211-0.0854492-0.2456055-0.206543c-0.0239258-0.1362305,0.0668945-0.265625,0.2026367-0.2895508l9.8032227-1.7285156C9.0224609,20.5,9.1538086,20.5952148,9.1782227,20.7314453c0.0239258,0.1362305-0.0668945,0.265625-0.2026367,0.2895508l-9.8032227,1.7285156C-0.8422852,22.7524414-0.8569336,22.753418-0.871582,22.753418z"/>
            <path className="st0" d="M2.0288086,30.6606445c-0.0859375,0-0.1704102-0.0449219-0.2163086-0.125c-0.0693359-0.1196289-0.0283203-0.2724609,0.0913086-0.3413086l8.6210938-4.9775391c0.1191406-0.0703125,0.2719727-0.0283203,0.3413086,0.0913086s0.0283203,0.2724609-0.0913086,0.3413086l-8.6210938,4.9775391C2.1142578,30.6499023,2.0712891,30.6606445,2.0288086,30.6606445z"/>
            <path className="st0" d="M7.4584961,37.0986328c-0.0566406,0-0.1137695-0.0195312-0.1606445-0.0585938c-0.105957-0.0888672-0.1196289-0.2460938-0.0307617-0.3525391l6.3984375-7.625c0.0893555-0.1049805,0.246582-0.1196289,0.3520508-0.0307617c0.105957,0.0888672,0.1196289,0.2460938,0.0307617,0.3520508l-6.3984375,7.6259766C7.6005859,37.0683594,7.5297852,37.0986328,7.4584961,37.0986328z"/>
            <path className="st0" d="M14.762207,41.2919922c-0.0283203,0-0.0571289-0.0048828-0.0854492-0.0146484c-0.1298828-0.0478516-0.1967773-0.1914062-0.1494141-0.3212891l3.4047852-9.3544922c0.0473633-0.1289062,0.190918-0.1943359,0.3203125-0.1494141c0.1298828,0.0478516,0.1967773,0.1914062,0.1494141,0.3212891l-3.4047852,9.3544922C14.9599609,41.2294922,14.8642578,41.2919922,14.762207,41.2919922z"/>
            <path className="st0" d="M23.0600586,42.7333984c-0.1381836,0-0.25-0.1123047-0.25-0.25v-9.9541016c0-0.1376953,0.1118164-0.25,0.25-0.25s0.25,0.1123047,0.25,0.25v9.9541016C23.3100586,42.6210938,23.1982422,42.7333984,23.0600586,42.7333984z"/>
            <path className="st0" d="M31.3505859,41.2509766c-0.1025391,0-0.1982422-0.0625-0.2353516-0.1640625l-3.4042969-9.3544922c-0.0473633-0.1298828,0.0195312-0.2734375,0.1494141-0.3212891c0.1298828-0.0449219,0.2729492,0.0195312,0.3203125,0.1494141l3.4052734,9.3544922c0.046875,0.1298828-0.0205078,0.2734375-0.1494141,0.3212891C31.4082031,41.2460938,31.3789062,41.2509766,31.3505859,41.2509766z"/>
            <path className="st0" d="M38.6337891,37.0214844c-0.0712891,0-0.1416016-0.0302734-0.1914062-0.0888672l-6.3984375-7.6259766c-0.0888672-0.105957-0.0751953-0.2631836,0.0302734-0.3520508c0.1054688-0.090332,0.2626953-0.0751953,0.3525391,0.0307617l6.3984375,7.625c0.0888672,0.1064453,0.0751953,0.2636719-0.0302734,0.3525391C38.7480469,37.0019531,38.6904297,37.0214844,38.6337891,37.0214844z"/>
            <path className="st0" d="M44.03125,30.5566406c-0.0429688,0-0.0859375-0.0107422-0.125-0.0336914l-8.6210938-4.9775391c-0.1191406-0.0688477-0.1601562-0.2216797-0.0917969-0.3413086c0.0703125-0.1206055,0.2236328-0.1606445,0.3417969-0.0913086L44.15625,30.090332c0.1191406,0.0688477,0.1601562,0.2216797,0.0917969,0.3413086C44.2011719,30.5117188,44.1171875,30.5566406,44.03125,30.5566406z"/>
            <path className="st0" d="M46.8916016,22.6352539c-0.0136719,0-0.0283203-0.0009766-0.0429688-0.0039062l-9.8027344-1.7285156c-0.1367188-0.0239258-0.2275391-0.1533203-0.203125-0.2895508c0.0234375-0.1347656,0.1474609-0.2294922,0.2890625-0.2026367l9.8027344,1.7285156c0.1367188,0.0239258,0.2275391,0.1533203,0.203125,0.2895508C47.1162109,22.5498047,47.0107422,22.6352539,46.8916016,22.6352539z"/>
            <path className="st0" d="M37.0683594,15.9418945c-0.1191406,0-0.2246094-0.0854492-0.2460938-0.206543c-0.0244141-0.1362305,0.0664062-0.265625,0.203125-0.2895508l9.8027344-1.7285156c0.140625-0.0322266,0.2646484,0.0673828,0.2890625,0.2026367c0.0244141,0.1362305-0.0664062,0.265625-0.203125,0.2895508l-9.8027344,1.7285156C37.0966797,15.940918,37.0820312,15.9418945,37.0683594,15.9418945z"/>
            <path className="st0" d="M35.3505859,11.2836914c-0.0859375,0-0.1699219-0.0449219-0.2167969-0.125c-0.0683594-0.1196289-0.0273438-0.2724609,0.0917969-0.3413086l8.6201172-4.9770508c0.1162109-0.0698242,0.2714844-0.0288086,0.3417969,0.0913086c0.0683594,0.1196289,0.0273438,0.2724609-0.0917969,0.3413086L35.4755859,11.25C35.4365234,11.2729492,35.3935547,11.2836914,35.3505859,11.2836914z"/>
            <path className="st0" d="M32.1425781,7.4941406c-0.0566406,0-0.1142578-0.019043-0.1611328-0.0585938c-0.1054688-0.0888672-0.1191406-0.246582-0.0302734-0.3520508l6.3994141-7.6259766c0.0898438-0.105957,0.2470703-0.1196289,0.3525391-0.0307617s0.1191406,0.246582,0.0302734,0.3520508l-6.3994141,7.6259766C32.2841797,7.4638672,32.2138672,7.4941406,32.1425781,7.4941406z"/>
            <path className="st0" d="M27.8330078,5.0297852c-0.0283203,0-0.0571289-0.0048828-0.0854492-0.0151367c-0.1298828-0.0473633-0.1967773-0.1904297-0.1494141-0.3203125l3.4038086-9.3544922c0.0478516-0.1293945,0.1904297-0.1967773,0.3212891-0.1494141c0.1289062,0.0473633,0.1962891,0.1904297,0.1494141,0.3203125l-3.4047852,9.3544922C28.0307617,4.9667969,27.9350586,5.0297852,27.8330078,5.0297852z"/>
          </g>
        </g>
        <g id="Moon" className={styles.Moon}>
          <g>
            <path className="st0" d="M48.5703163,6.3060269c3.0119629,2.7486978,4.7464485,6.6150956,4.7464485,10.7885971c0,8.0872097-6.5794182,14.6666298-14.6666298,14.6666298c-5.0856476,0-9.6727085-2.5703449-12.331831-6.7356911c1.878294,0.7148666,3.8721142,1.0855408,5.8874302,1.0855408c9.1900101,0,16.6666298-7.4766102,16.6666298-16.6666203C48.872364,8.3884678,48.7712212,7.3398914,48.5703163,6.3060269 M46.7779465,3.719933c0.6979904,1.7750201,1.0944176,3.7017798,1.0944176,5.7245498c0,8.652401-7.0142174,15.6666203-15.6666298,15.6666203c-2.980278,0-5.7559185-0.84729-8.1277981-2.2919292c2.2877197,5.8176289,7.9424992,9.9420795,14.5721989,9.9420795c8.6524696,0,15.6666298-7.0142212,15.6666298-15.6666298C54.3167648,11.4224529,51.2921638,6.4694428,46.7779465,3.719933L46.7779465,3.719933z"/>
          </g>
        </g>
        <g id="Land" className={styles.Land}>
          <path id="Land_00000031920087883781940870000013942307353950628239_" className="st1" d="M0,45.2334633c20.4828548-5.9720268,41.2135963-6.4402275,60,0v3.711647C60,55.0505562,55.0505562,60,48.9451103,60H11.0548887C4.9494419,60,0,55.0505562,0,48.9451103V45.2334633z"/>
        </g>
        <g id="Outline" className={styles.Outline}>
          <path className="st0" d="M48.9451294,0H11.0548706C4.9494629,0,0,4.9494019,0,11.0548706v34.1785889v3.7116089C0,55.0505371,4.9494629,60,11.0548706,60h37.8902588C55.0505371,60,60,55.0505371,60,48.9450684v-3.7116089V11.0548706C60,4.9494019,55.0505371,0,48.9451294,0z M59,45.9511108v2.9939575C59,54.4893799,54.4893799,59,48.9451294,59H11.0548706C5.5106201,59,1,54.4893799,1,48.9450684v-2.9592285c10.2610474-2.9257202,20.4191895-4.4085083,30.2062988-4.4086304l0.0012817-1c-0.0004272,0-0.0008545,0-0.0012817,0C21.2614746,40.5773315,11.1045532,42.1027222,1,44.9592896V11.0548706C1,5.5105591,5.5106201,1,11.0548706,1h37.8902588C54.4893799,1,59,5.5105591,59,11.0548706v33.8601685c-8.9169312-2.9308472-18.2547607-4.3378296-27.7924194-4.3378296v1C40.9379883,41.5772095,50.2837524,43.0482788,59,45.9511108z"
            />
          <polygon className="st0" points="31.2075806,40.5772095 31.2075806,40.5772095 31.2075806,40.5772095 	"/>
        </g>
      </svg>
    </button>
  );
};

export default ThemeToggle;